<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>QR Scanner</title>
    <script src="https://unpkg.com/html5-qrcode"></script>
    <script src="html5Qr.js"></script>
    <style>
        body { font-family: sans-serif;
            font-size:16px;
            display: flex;
            flex-direction: column; 
            align-items: center;
            justify-content: center; 
            height: 100vh;
            margin: 0; 
            background: #f4f4f9;}
        #reader { width: 400px;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 4px 10px rgba(0,0,0,0.1);
        }
        h2 { color: #333;
        }
        .status { margin-top: 15px; 
            color: #666; 
        }
        button{
            color:white;
            padding:10px 20px;
            margin:2px;
            background:green;
            border-radius:3px;
            border: none;
        }
    
      
        select{
            padding:5px 20px;
            margin:2px;
            border: 2px solid blue;
            border-radius:3px;
        }
      select:hover{
            padding:5px 20px;
            margin:2px;
            border: 2px solid tomato;
            border-radius:3px;
        }
       select:active{
            padding:5px 20px;
            margin:2px;
            border: 2px solid green;
            border-radius:3px;
        }
    </style>
</head>
<body>
    <h2>Scan a QR Code</h2>
    <div id="reader" style="width:90%; border-radius:15px;"></div>
    <p class="status" id="status-text">Point your camera at a QR code</p>
    <script>
        function onScanSuccess(decodedText, decodedResult) {
            // Check if the decoded text looks like a URL
            if (decodedText.startsWith("http://") || decodedText.startsWith("https://")) {
                document.getElementById('status-text').innerText = "Redirecting to: " + decodedText;
                window.open(decodedText, '_blank');
               // window.open(decodedText, '_blank');
                // Stop the scanner to prevent multiple redirects
                html5QrcodeScanner.clear();
                
                // Auto-open the link
                window.location.href = decodedText;
            } else {
                alert("Scanned content is not a link: " + decodedText);
            }
        }

        function onScanFailure(error) {
            // We ignore errors to keep the console clean while scanning
        }

        let html5QrcodeScanner = new Html5QrcodeScanner(
            "reader", { fps: 10, qrbox: 250 });
        html5QrcodeScanner.render(onScanSuccess, onScanFailure);
</script>
</body>
</html>